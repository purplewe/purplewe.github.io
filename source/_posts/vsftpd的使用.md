---
title: vsftpd的使用
author: peng
date: 2018-08-03 19:10:00
tag:
---

### FTP

FTP的全称是文件传输协议，用于Internet上控制文件双向传输，同时它也是一种应用，不同操作系用具有不同的FTP应用，他们都遵守同一种协议传输文件，FTP命令端口是21，数据传输端口是20。


FTP的传输方式有两种：ASCII、二进制（区别是一种以字节流的形式传输，一种以二进制流的形式传输）


FTP支持的两种模式：

1.PORT方式，主动方式：FTP客户端首先通过21端口建立连接，通过这个端口的连接向FTP服务器发送命令，命令中包含了客户端使用那个端口接受数据。发送数据时，FTP服务器通过20端口向客户端指定端口建立连接用来发送数据。

2.PASV方式，被动方式：FTP接受客户端发送请求数据的命令后，打开一个临时端口（大于1023小于65535）并通知客户端进行连接，然后这这个连接上传输数据。

注意：一般客户端主机都有防火墙，因此通过PORT方式传输数据会被防火墙拦截。如果客户端没有公网IP,此时必须用PASV方式。